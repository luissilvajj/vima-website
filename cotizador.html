<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador Online | VIMA</title>
    <meta name="description"
        content="Cotiza tu corte láser al instante. Sube tu archivo DXF y obtén un precio estimado.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;900&family=Oswald:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">

    <!-- DXF Parser Library -->
    <!-- DXF Parser Library -->
    <script src="js/vendor/dxf-parser.min.js"></script>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">VIMA<span class="dot">.</span></a>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="cotizador.html" class="active">Cotizador</a></li>
                <li><a href="index.html#empresas">Empresas</a></li>
                <li><a href="index.html#galeria">Galería</a></li>
                <li><a href="index.html#contacto" class="btn-contact">Cotizar</a></li>
                <li style="display: flex; align-items: center; margin-left: 10px;">
                    <button id="theme-toggle" class="btn-icon" aria-label="Cambiar Tema"
                        style="color: var(--text-main); font-size: 1.2rem;">
                        <i class="fa-solid fa-moon"></i>
                    </button>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header"
        style="height: 40vh; background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('https://images.unsplash.com/photo-1625033789304-747446497743?q=80&w=1920&auto=format&fit=crop');">
        <div class="container">
            <h1>Cotizador <span class="text-highlight">Láser</span></h1>
            <p>Obtén un estimado instantáneo para tu proyecto</p>
        </div>
    </header>

    <!-- Calculator Section -->
    <section class="section-padding bg-light">
        <div class="container">
            <div class="calculator-grid">

                <!-- Left Column: Input & Preview -->
                <div class="calc-main">

                    <!-- File Upload -->
                    <div class="upload-card">
                        <div class="file-upload-box" id="drop-zone">
                            <i class="fa-solid fa-cloud-arrow-up upload-icon"></i>
                            <h3>Arrastra tu archivo DXF aquí</h3>
                            <p>o haz clic para buscar en tu equipo</p>
                            <input type="file" id="dxf-file" accept=".dxf">
                        </div>
                    </div>

                    <!-- Preview Card (Hidden initially) -->
                    <div class="preview-card" id="preview-container" style="display: none;">
                        <div class="card-header">
                            <h4 id="file-name-display">archivo.dxf</h4>
                            <button class="btn-icon" id="remove-file"><i class="fa-solid fa-trash"></i></button>
                        </div>

                        <div class="canvas-wrapper">
                            <canvas id="dxf-canvas"></canvas>
                        </div>

                        <div class="file-stats">
                            <div class="stat-item">
                                <span class="label">Ancho</span>
                                <span class="value" id="stat-width">0 mm</span>
                            </div>
                            <div class="stat-item">
                                <span class="label">Alto</span>
                                <span class="value" id="stat-height">0 mm</span>
                            </div>
                            <div class="stat-item">
                                <span class="label">Longitud de Corte</span>
                                <span class="value" id="stat-length">0 mm</span>
                            </div>
                        </div>
                    </div>

                    <!-- Configuration -->
                    <div class="config-card">
                        <h3>Configuración de Corte</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Unidades del Archivo</label>
                                <select id="unit-select">
                                    <option value="mm">Milímetros (mm)</option>
                                    <option value="in">Pulgadas (in)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Material</label>
                                <select id="material-select">
                                    <option value="hierro">Hierro Negro (HR)</option>
                                    <option value="inox">Acero Inoxidable</option>
                                    <option value="aluminio">Aluminio</option>
                                    <option value="galvanizado">Galvanizado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Espesor</label>
                                <select id="thickness-select">
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Right Column: Summary Sidebar -->
                <div class="calc-sidebar">
                    <div class="summary-card sticky-card">
                        <h3>Resumen de Cotización</h3>

                        <div class="summary-row">
                            <span>Tiempo Estimado</span>
                            <strong id="est-time">0 min</strong>
                        </div>

                        <div class="summary-divider"></div>

                        <div class="summary-total">
                            <span>Total Estimado</span>
                            <h2 id="total-price">$0.00</h2>
                        </div>

                        <div class="price-alert">
                            <i class="fa-solid fa-circle-info"></i>
                            <p><strong>Precio Aproximado (Solo Corte):</strong> Para confirmar el precio exacto de tu
                                corte, por favor contáctanos vía WhatsApp. No incluye doblez, soldadura ni acabados.</p>
                        </div>

                        <button id="calculate-btn" class="btn btn-primary full-width">Actualizar Precio</button>

                        <a href="https://wa.me/584126392512" target="_blank" id="whatsapp-btn"
                            class="btn btn-whatsapp full-width">
                            <i class="fa-brands fa-whatsapp"></i> Confirmar Precio por WhatsApp
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div class="footer-logo">VIMA<span class="dot">.</span></div>
            <p>&copy; 2025 Vima Acero Inoxidable. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="js/cotizador.js"></script>
    <script src="js/main.js"></script>
</body>

</html>